### Криптографічний захист клієнт-серверної взаємодії в СКБД PostgreSQL

**1.** Встановити OpenSSL-пакет. В терміналі командного рядку запустити утиліту openssl та переглянути перелік доступних команд.

![image](https://github.com/user-attachments/assets/ebe9e581-2b39-46e4-a25f-40be45e44d2a)

**2.** Створити самопідписаний сертифікат для сервера СКБД PostgreSQL з наступними
параметрами:

* атрибути C=UA, L=Odessa, O=OPU, OU=group, CN=surname.op.edu.ua, де group – назва вашої групи латиницею, surname – ваше прізвище латиницею
* строк дії сертифікату = (variant * 10) днів, де variant – значення варіанту.

![image](https://github.com/user-attachments/assets/27fdf86a-7ea4-4921-b801-cb5dbffde180)

**3.** Переглянути вміст сертифікату та визначити алгоритми створення відкритого
ключа, а також алгоритм встановлення цифрового підпису.

![image](https://github.com/user-attachments/assets/bcfbae26-70df-4071-963c-0440563bb5bf)

**4.** Скопіювати створений сертифікат відкритого ключа та закритий ключ до каталогу сервера СКБД PostgreSQL, яка використовувалася у попередній лабораторній роботі. У конфігураційному файлі postgresql.conf налаштувати значення SSL-параметрів для підтримки SSL-з'єднання між сервером та клієнтами.

![image](https://github.com/user-attachments/assets/5f349e99-6305-47e2-a025-bb26e1bf71f9)

**5.** Використовуючи програму psql, встановити TSL/SSL-з'єднання з БД за прикладом з попередньої лабораторної роботи, але використовуючи формат параметрів "host=var1 port=var2 dbname=var3 user=var4 password=var5 sslmode=var6". Визначити версію TSL-протоколу та перелік використаних криптоалгоритмів.

![image](https://github.com/user-attachments/assets/0b68db07-6c18-415e-988c-a07726d38ad4)

**6.** Встановити ПЗ контейнерної віртуалізації Docker та запустити Docker через ваш Docker-обліковий запис.

![image](https://github.com/user-attachments/assets/900de30d-07ed-4002-ae4d-97b0f194548e)

**7.** Запустити Docker-контейнер СКБД PostgreSQL, використовуючи раніше розглянуті приклади (порт прослуховування запитів СКБД PostgreSQL = 5466).

![image](https://github.com/user-attachments/assets/3870bb96-93ad-44d6-b071-4f72150b72b6)

![image](https://github.com/user-attachments/assets/a616a40e-37ae-4a92-bc92-415a5487555f)

![image](https://github.com/user-attachments/assets/d784aef1-c836-4b22-a9c6-0530815830b0)

**8.** У Docker-контейнері встановити програмний пакунок аналізу мережевих пакетів tcpdump. Отримати перелік мережевих інтерфейсів на вашому комп’ютері.

![image](https://github.com/user-attachments/assets/a549c4e3-63b0-49cd-87b7-ad342b1cfdb9)

![image](https://github.com/user-attachments/assets/482c1b6d-c263-4961-9e21-5251b7eeaddf)

**9.** Провести запуск програми аналізу мережевих пакетів для кожного мережевого інтерфейсу поки не буде знайдено активний інтерфейс, який взаємодіє з мережею Internet та виводить на екран інформацію про ці пакети.

![image](https://github.com/user-attachments/assets/f0fca187-827c-4345-858d-4b4186a1ebb0)

![image](https://github.com/user-attachments/assets/ef2eaafc-654b-4635-9de1-ac88a4d4c132)

**10.** Запустити програму аналізу мережевих пакетів в режимі прослуховування обраного мережевого інтерфейсу та налаштувати її на перегляд пакетів, які пов`язані з портом 5466, зберігаючи зміст пакетів в окремому файлі через перенаправлення потоку, наприклад, > res.dump. Результати роботи будуть використанні у наступних завданнях.

![image](https://github.com/user-attachments/assets/d73dd6f7-39f3-4045-a96c-327fa2c91fd6)

**11.** Запустити окрему термінальну консоль та становити зв'язок із СКБД PostgreSQL, яка запущена через Docker-контейнер. Після успішного встановлення визначити версію TSL- протоколу та перелік використаних криптографічних алгоритмів.
**12.** Виконати команду створення користувача за прикладом з лабораторної роботи No6.

![image](https://github.com/user-attachments/assets/26a51695-a652-4a7d-8c0d-1d782aa457cb)

**13.** Проаналізувати вміст перехоплених пакетів, які було збережено у файлі, наприклад, res.dump. Підтвердити передачу деяких даних у відкритому вигляді.

![image](https://github.com/user-attachments/assets/8c533304-915f-4afe-a1a4-7f42139ec842)

**14.** Повторити пункт 11, встановивши зв’язок із СКБД, але вже через TLS/SSL- з’єднання.

![image](https://github.com/user-attachments/assets/a79f0e7a-1f26-4c50-97eb-ba3e31ba51d9)

**15.** Проаналізувати вміст перехоплених пакетів в програмі-аналізаторі. Підтвердити відсутність даних у відкритому вигляді.

![image](https://github.com/user-attachments/assets/0e403fb0-7fd3-43b4-b489-bfb9ca521e5d)

